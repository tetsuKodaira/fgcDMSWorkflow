{"Columns":[{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"theme_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"theme_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_theme_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"categoly_theme_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"int","MaxLength":-1,"Name":"organization_code","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"organization_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"organization_name_short","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"int","MaxLength":-1,"Name":"dept_code","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"dept_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"categoly_stage_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"decimal","MaxLength":-1,"Name":"mp_figure","ColumnType":"System.Decimal, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"complete_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_stage_order_number","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_theme_access_level_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"varchar","MaxLength":-1,"Name":"employee_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"employee_z_code","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"theme_categoly_number","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"varchar","MaxLength":-1,"Name":"categoly_stage_name_deliberated","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"theme_start_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"theme_order_number","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_1_plan_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_1_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_2_plan_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_2_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_3_plan_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_3_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_4_plan_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"stage_4_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"complete_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"date","MaxLength":-1,"Name":"suspend_actual_date","ColumnType":"System.DateTime, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"theme_work_goal","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"theme_concept","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"can_apply_stage_shift","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"can_apply_completion","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"can_apply_cancellation","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"int","MaxLength":-1,"Name":"elapsed_months_from_end_date","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_stage_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"}],"ExternalDatabaseInfo":{"SourceConnectString":"Data Source=ntvmd396;Initial Catalog=ResearchThemeManagement;Persist Security Info=True;User ID=z037674;Password=z037674","CreateViewSql":"--開発段階を取得\r\nWITH current_stage AS(\r\n\tSELECT\r\n\t\tschedule_actual.theme_id,\r\n\t\tschedule_actual.categoly_stage_id,\r\n\t\tschedule_actual.categoly_stage_order_number,\r\n\t\tschedule_actual.categoly_stage_name\r\n\tFROM           \r\n\t--スケジュール実績を取得 \r\n\t\t(\r\n\t\t\tSELECT\r\n\t\t\t\tschedule.categoly_stage_id,\r\n\t\t\t\tschedule.categoly_plan_actual_id,\r\n\t\t\t\tschedule.theme_id,\r\n\t\t\t\tschedule.schedule_update_date,\r\n\t\t\t\tcategoly_stage.categoly_stage_order_number,\r\n\t\t\t\tcategoly_stage.categoly_stage_name\r\n\t\t\tFROM\r\n\t\t\t\trtm_schedules AS schedule\r\n\t\t\tINNER JOIN\r\n\t\t\t\trtm_categoly_stages AS categoly_stage\r\n\t\t\t\tON schedule.categoly_stage_id = categoly_stage.categoly_stage_id\r\n\t\t\tWHERE categoly_plan_actual_id = 2\r\n\t\t) AS schedule_actual\r\n\tINNER JOIN\r\n    --スケジュール実績の最大開発段階を取得\r\n\t\t(\r\n\t\t\tSELECT\r\n\t\t\t\tschedule.theme_id,\r\n\t\t\t\tMAX(categoly_stage.categoly_stage_order_number) AS categoly_stage_order_number\r\n\t\t\tFROM\r\n\t\t\t\t(\r\n\t\t\t\t\tSELECT\r\n\t\t\t\t\t\ttheme_id,\r\n\t\t\t\t\t\tcategoly_stage_id\r\n\t\t\t\t\tFROM\r\n\t\t\t\t\t\trtm_schedules\r\n                    WHERE categoly_plan_actual_id = 2\r\n\t\t\t\t) AS schedule\r\n\t\t\tINNER JOIN\r\n\t\t\t\trtm_categoly_stages AS categoly_stage\r\n\t\t\t\tON schedule.categoly_stage_id = categoly_stage.categoly_stage_id\r\n\t\t\t\tGROUP BY theme_id) AS schedule_actual_max\r\n\t\t\t\tON schedule_actual.theme_id = schedule_actual_max.theme_id\r\n\t\t\t\tAND schedule_actual.categoly_stage_order_number = schedule_actual_max.categoly_stage_order_number\r\n),\r\n--スケジュール一覧を縦持ちで取得\r\nschedule AS(\r\n\tSELECT\r\n\t\tschedule.theme_id,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 1 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS theme_start_date,\r\n\t\tMAX(CASE\r\n\t\t\t\tWHEN schedule.categoly_stage_id = 2 AND schedule.categoly_plan_actual_id = 1 THEN schedule_date\r\n\t\t\t\tELSE NULL\r\n\t\t\tEND) AS stage_1_plan_date,\r\n\t\tMAX(CASE\r\n\t\t\t\tWHEN schedule.categoly_stage_id = 2 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\t\tELSE NULL\r\n\t\t\tEND) AS stage_1_actual_date,\r\n\t\tMAX(CASE\r\n\t\t\t\tWHEN schedule.categoly_stage_id = 3 AND schedule.categoly_plan_actual_id = 1 THEN schedule_date\r\n\t\t\t\tELSE NULL\r\n\t\t\tEND) AS stage_2_plan_date,\r\n\t\tMAX(CASE\r\n\t\t\t\tWHEN schedule.categoly_stage_id = 3 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\t\tELSE NULL\r\n\t\t\tEND) AS stage_2_actual_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 4 AND schedule.categoly_plan_actual_id = 1 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS stage_3_plan_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 4 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS stage_3_actual_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 5 AND schedule.categoly_plan_actual_id = 1 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS stage_4_plan_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 5 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS stage_4_actual_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 6 AND schedule.categoly_plan_actual_id = 1 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS complete_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 6 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS complete_actual_date,\r\n\t\tMAX(CASE\r\n\t\t\tWHEN schedule.categoly_stage_id = 7 AND schedule.categoly_plan_actual_id = 2 THEN schedule_date\r\n\t\t\tELSE NULL\r\n\t\tEND) AS suspend_actual_date\r\n\tFROM\r\n\t\t(\r\n\t\t\tSELECT\r\n\t\t\t\ttheme_id,\r\n\t\t\t\tschedule_date,\r\n\t\t\t\tcategoly_stage_id,\r\n\t\t\t\tcategoly_plan_actual_id,\r\n\t\t\t\tschedule_update_date\r\n\t\t\tFROM\r\n\t\t\t\trtm_schedules\r\n\t\t) AS schedule\r\n\tINNER JOIN\r\n        (\r\n\t\t\tSELECT\r\n\t\t\t\ttheme_id,\r\n\t\t\t\tcategoly_stage_id,\r\n\t\t\t\tcategoly_plan_actual_id,\r\n\t\t\t\tMAX(schedule_update_date) AS schedule_update_date\r\n            FROM\r\n\t\t\t\trtm_schedules\r\n            GROUP BY theme_id,categoly_stage_id,categoly_plan_actual_id\r\n\t\t) AS schedule_max\r\n\t\tON schedule.theme_id = schedule_max.theme_id\r\n\t\tAND schedule.categoly_stage_id = schedule_max.categoly_stage_id\r\n\t\tAND schedule.categoly_plan_actual_id = schedule_max.categoly_plan_actual_id\r\n\t\tAND schedule.schedule_update_date = schedule_max.schedule_update_date\r\n\t\tGROUP BY schedule.theme_id\r\n), \r\n--最新のMPを取得\r\nmp_latest AS\r\n    (\r\n\t\tSELECT\r\n\t\t\tmp.theme_id,\r\n\t\t\tmp.mp_figure\r\n\t\tFROM\r\n\t\t\trtm_mps AS mp\r\n\t\tINNER JOIN\r\n        (\r\n\t\t\tSELECT\r\n\t\t\t\ttheme_id,\r\n\t\t\t\tMAX(mp_update_date) AS mp_update_date\r\n\t\t\tFROM\r\n\t\t\t\trtm_mps\r\n            GROUP BY theme_id\r\n\t\t) AS mp_max\r\n\t\tON mp.theme_id = mp_max.theme_id\r\n\t\tAND mp.mp_update_date = mp_max.mp_update_date\r\n)\r\nSELECT\r\n\ttheme.theme_id,\r\n\ttheme.theme_name,\r\n\ttheme.categoly_theme_id,\r\n\tcategoly_theme.categoly_theme_name,\r\n\tdepartment.organization_code,\r\n\tTRIM('L ' FROM department.organization_name) AS organization_name,\r\n\tdepartment.organization_name AS organization_name_short,\r\n\tdepartment.dept_code, TRIM('L ' FROM department.dept_name) AS dept_name,\r\n\tCASE\r\n\t\tWHEN stage_shift_record.categoly_theme_id = 2 AND current_stage.categoly_stage_order_number = 1 THEN '基幹技術開発付議申請中'\r\n\t\tWHEN stage_shift_record.categoly_theme_id = 3 AND current_stage.categoly_stage_order_number = 1 THEN '生産技術開発付議申請中'\r\n\t\tWHEN theme.categoly_theme_id IN (1,2,3,4) AND stage_shift_record.categoly_stage_id IS NOT NULL THEN stage_shift_record.categoly_stage_name + '申請中'\r\n\t\tWHEN theme.categoly_theme_id = 1 OR current_stage.categoly_stage_order_number >= 6 THEN current_stage.categoly_stage_name\r\n\t\tELSE NULL\r\n\tEND AS categoly_stage_name,\r\n\tmp_latest.mp_figure,\r\n\tschedule.complete_date AS complete_date,\r\n\tcurrent_stage.categoly_stage_order_number,\r\n\ttheme.categoly_theme_access_level_id,\r\n\temployee.account_display_name AS employee_name, \r\n\temployee.account_code AS employee_z_code,\r\n\tLEFT(theme.theme_order_number, 5) AS theme_categoly_number,\r\n\tCASE\r\n\t\tWHEN stage_shift_record.categoly_stage_id = 6 THEN '完了付議申請中'\r\n\t\tWHEN stage_shift_record.categoly_stage_id = 7 THEN '中止付議申請中'\r\n\t\tWHEN stage_shift_record.categoly_stage_id IS NULL THEN ''\r\n\t\tELSE '移行審査付議申請中'\r\n\tEND AS categoly_stage_name_deliberated,\r\n\tschedule.theme_start_date AS theme_start_date,\r\n\ttheme.theme_order_number,\r\n\tschedule.stage_1_plan_date,\r\n\tschedule.stage_1_actual_date,\r\n\tschedule.stage_2_plan_date,\r\n\tschedule.stage_2_actual_date,\r\n\tschedule.stage_3_plan_date,\r\n\tschedule.stage_3_actual_date,\r\n\tschedule.stage_4_plan_date,\r\n\tschedule.stage_4_actual_date,\r\n\tschedule.complete_actual_date,\r\n\tschedule.suspend_actual_date,\r\n\ttheme.theme_work_goal,\r\n\ttheme.theme_concept,\r\n\tCASE\r\n\t\tWHEN theme.categoly_theme_id IN (1,4) AND stage_shift_record.categoly_stage_id IS NULL\r\n\t\tTHEN 1\r\n\t\tELSE 0\r\n\tEND AS can_apply_stage_shift,\r\n\tCASE\r\n\t\tWHEN theme.categoly_theme_id IN (1,2,3,5,6) AND stage_shift_record.categoly_stage_id IS NULL\r\n\t\tTHEN 1\r\n\t\tELSE 0\r\n\tEND AS can_apply_completion,\r\n\tCASE\r\n\t\tWHEN stage_shift_record.categoly_stage_id IS NULL\r\n\t\tTHEN 1\r\n\t\tELSE 0\r\n\tEND AS can_apply_cancellation,\r\n\tCASE \r\n\t\tWHEN categoly_stage_order_number = 6 THEN DATEDIFF(month,complete_actual_date,GETDATE())\r\n\t\tWHEN categoly_stage_order_number = 7 THEN DATEDIFF(month,suspend_actual_date,GETDATE())\r\n\t\tELSE NULL\r\n\tEND AS elapsed_months_from_end_date,\r\n\tcurrent_stage.categoly_stage_id\r\nFROM\r\n--テーマテーブル\r\n\trtm_themes AS theme\r\n--テーマ分類テーブルを内部結合\r\nINNER JOIN\r\n\trtm_categoly_themes AS categoly_theme\r\n\tON theme.categoly_theme_id = categoly_theme.categoly_theme_id\r\n--部署テーブルを左外部結合(ダイアグラムで繋げられていないため)\r\nLEFT OUTER JOIN\r\n\tAccessPermissionManagement.dbo.apm_dept_organization_relations AS department\r\n\tON theme.department_code = department.organization_code\r\n--社員テーブルを左外部結合\r\nLEFT OUTER JOIN\r\n\tAccessPermissionManagement.dbo.apm_nac_acc_account AS employee\r\n\tON theme.employee_z_code = employee.account_code\r\n--開発段階テーブルを内部結合\r\nINNER JOIN\r\n\tcurrent_stage\r\n\tON theme.theme_id = current_stage.theme_id\r\n--MPテーブルを左外部結合(入力されないテーマがあるため左外部結合)\r\nLEFT OUTER JOIN\r\n\tmp_latest\r\n\tON theme.theme_id = mp_latest.theme_id\r\n--完了予定日のテーブルを左外部結合\r\nLEFT OUTER JOIN\r\n\tschedule\r\n\tON theme.theme_id = schedule.theme_id\r\n--審議テーブルを左外部結合し審議中の内容があるか判断\r\nLEFT OUTER JOIN\r\n\t(\r\n\t\tSELECT\r\n\t\t\ttheme_id,\r\n\t\t\tstage_shift_record.categoly_stage_id,\r\n\t\t\tcategoly_stage.categoly_stage_name,\r\n\t\t\tcategoly_theme_id\r\n\t\tFROM\r\n\t\t\trtm_stage_shift_records AS stage_shift_record\r\n\t\tINNER JOIN\r\n\t\t\trtm_categoly_stages AS categoly_stage\r\n\t\t\tON stage_shift_record.categoly_stage_id = categoly_stage.categoly_stage_id\r\n\t\tWHERE categoly_deliberated_result_id = 0\r\n\t) AS stage_shift_record\r\n\tON theme.theme_id = stage_shift_record.theme_id\r\n","SourceTableName":"rtm_view_themes","SourceTableSchema":"dbo","DataBaseType":1,"ViewInfo":{"ViewName":"rtm_view_themes","IsUpdatable":true,"QueryColumns":["theme_id"]},"UserSetQueryColumns":["theme_id"]},"Name":"rtm_view_themes","Relations":[]}