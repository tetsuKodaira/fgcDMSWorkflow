{"Columns":[{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"bigint","MaxLength":-1,"Name":"wf_id","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_wf_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"char","MaxLength":-1,"Name":"experiment_document_id","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"wf_detail_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"wf_detail_approval_level","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"wf_detail_approval_update_date","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"wf_detail_approval_update_employee_z_code","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"varchar","MaxLength":-1,"Name":"employee_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_wf_roll_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"int","MaxLength":-1,"Name":"categoly_wf_status_id","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"wf_detail_comment","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"categoly_wf_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"categoly_wf_roll_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"nvarchar","MaxLength":-1,"Name":"categoly_wf_status_name","ColumnType":"System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"DatabaseColumnType":"int","MaxLength":-1,"Name":"flag_current_record","ColumnType":"System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"}],"ExternalDatabaseInfo":{"SourceConnectString":"Data Source=ntvmd396;Initial Catalog=ExperimentDocumentManagementTest;Persist Security Info=True;User ID=z037674;Password=z037674","CreateViewSql":"SELECT\r\n\twf.wf_id,\r\n\twf.categoly_wf_id,\r\n\twf.experiment_document_id,\r\n\twf_detail.wf_detail_id,\r\n\twf_detail.wf_detail_approval_level,\r\n\tFORMAT(wf_detail.wf_detail_approval_update_date, 'yyyy/MM/dd') AS wf_detail_approval_update_date,\r\n\twf_detail.wf_detail_approval_update_employee_z_code,\r\n\temployee_list.account_display_name AS employee_name,\r\n\twf_detail.categoly_wf_roll_id, \r\n\twf_detail.categoly_wf_status_id,\r\n\twf_detail.wf_detail_comment,\r\n\tcategoly_wf.categoly_wf_name,\r\n\tcategoly_wf_roll.categoly_wf_roll_name,\r\n\tCASE\r\n\t\tWHEN categoly_wf_status.categoly_wf_status_id = 0 AND LAG(wf_detail.categoly_wf_status_id, 1) OVER (PARTITION BY wf_detail.wf_id ORDER BY wf_detail.wf_detail_approval_level ASC) = 3 THEN '再申請待ち'\r\n\t\tWHEN categoly_wf_status.categoly_wf_status_id = 0 THEN '承認待ち' ELSE categoly_wf_status.categoly_wf_status_name\r\n\tEND AS categoly_wf_status_name,\r\n\tCASE\r\n\t\tWHEN wf_detail.categoly_wf_status_id = 0 AND LAG(wf_detail.categoly_wf_status_id, 1) OVER (PARTITION BY wf_detail.wf_id ORDER BY wf_detail.wf_detail_approval_level ASC) > 0 THEN 1 ELSE 0\r\n\tEND AS flag_current_record\r\nFROM\r\n\tdbo.edm_wfs AS wf\r\nINNER JOIN\r\n\tdbo.edm_wf_details AS wf_detail\r\n\tON wf.wf_id = wf_detail.wf_id\r\nINNER JOIN\r\n\tdbo.edm_categoly_wfs AS categoly_wf\r\n\tON wf.categoly_wf_id = categoly_wf.categoly_wf_id\r\nLEFT OUTER JOIN\r\n\tAccessPermissionManagement.dbo.apm_nac_acc_account AS employee_list\r\n\tON wf_detail.wf_detail_approval_update_employee_z_code = employee_list.account_code\r\nINNER JOIN\r\n\tdbo.edm_categoly_wf_rolls AS categoly_wf_roll\r\n\tON wf_detail.categoly_wf_roll_id = categoly_wf_roll.categoly_wf_roll_id\r\nINNER JOIN\r\n\tdbo.edm_categoly_wf_statuses AS categoly_wf_status\r\n\tON wf_detail.categoly_wf_status_id = categoly_wf_status.categoly_wf_status_id","SourceTableName":"edm_view_wf_details","SourceTableSchema":"dbo","DataBaseType":1,"ViewInfo":{"ViewName":"edm_view_wf_details","IsUpdatable":true,"QueryColumns":["wf_detail_id"]},"UserSetQueryColumns":["wf_detail_id"]},"Name":"edm_view_wf_details","Relations":[]}